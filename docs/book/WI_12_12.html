<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="indoc_WI.css" rel="stylesheet" type="text/css">
    <!--Generated by indoc-->
    <title>12.12. Check rules for actions by other people</title>
    <script type="text/javascript">
            function showExtra(id, imid) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                    document.getElementById(imid).src = '/inform-website/assets/images/doc_images/extra.png';
                } else {
                    document.getElementById(id).style.display = 'block';
                    document.getElementById(imid).src = '/inform-website/assets/images/doc_images/extraclose.png';
                }
            }
            function onLoaded() {
                if (window.location.hash) {
                    var hash = window.location.hash.substring(2);
                    if (hash.search("_") >= 0) {
                        var res = hash.split("_");
                        showExample("example"+res[1]);
                    } else {
                        showExample("example"+hash);
                    }
                }
            }
            window.onload=onLoaded;
            function showExample(id) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                } else {
                    document.getElementById(id).style.display = 'block';
                }
            }
            function openExtra(id, imid) {
                document.getElementById(id).style.display = 'block';
                document.getElementById(imid).src = '/inform-website/assets/images/doc_images/extraclose.png';
            }
            function closeExtra(id, imid) {
                document.getElementById(id).style.display = 'none';
                document.getElementById(imid).src = '/inform-website/assets/images/doc_images/extra.png';
            }
    </script>
</head>
<body class="paper papertint">
    <script type="text/javascript">
        function pasteCode(code) {
            var myProject = window.Project;

            myProject.selectView('source');
            myProject.pasteCode(code);
        }
    </script>
    <script type="text/javascript">
        function createNewProject(code, title) {
            var myProject = window.Project;

            myProject.createNewProject(title, code);
        }
    </script>
        <p class="sectionheading"><a href="https://ganelson.github.io/inform-website/index.html">Inform 7 Home Page</a> / <a href="https://ganelson.github.io/inform-website/doc/">Documentation</a></p>
        <hr>

    <p class="sectionheading">ยง12.12. Check rules for actions by other people</p>
    <p>If we want to impose the restriction about carrying the camera on other people, we need a rule like the following:</p>
    <!--START CODE "c3484"-->
    <blockquote class="code"><p class="quoted"><a id="c3484"></a>Check someone photographing: if the person asked does not carry the camera, stop the action.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>Implicitly, that &quot;someone&quot; excludes the player. Note that we say nothing in this rule, stopping the action without a word: after all, Clark might well be out of sight when trying this. If he is within sight, then we read:</p>
    <!--START CODE "c3485"-->
    <blockquote class="code"><p class="quoted"><a id="c3485"></a>&gt;clark, photograph me
    <br>
    Clark Gable is unable to do that.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>We saw before that Inform's built-in rules all have handy names (the &quot;can't drop what's already dropped rule&quot;, and such), and that these are useful when writing better &quot;unable to...&quot; messages. So for a deluxe version, we end up with:</p>
    <!--START CODE "c3486"-->
    <blockquote class="code"><p class="quoted"><a id="c3486"></a>Check someone trying photographing (this is the other people can't photograph without the camera rule): if the person asked does not carry the camera, stop the action.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>And now, with ACTIONS on, we find that:</p>
    <!--START CODE "c3487"-->
    <blockquote class="code"><p class="quoted"><a id="c3487"></a>&gt;clark, photograph me
    <br>
    [asking Clark Gable to try photographing yourself]
    <br>
    [(1) Clark Gable photographing yourself]
    <br>
    [(1) Clark Gable photographing yourself - failed the other people can't photograph without the camera rule]
    <br>
    Clark Gable is unable to do that.
    <br>
    [asking Clark Gable to try photographing yourself - succeeded]
    </p>
    </blockquote>
    <!--END CODE-->
    <p>which means that we could have, say,</p>
    <!--START CODE "c3488"-->
    <blockquote class="code"><p class="quoted"><a id="c3488"></a>Unsuccessful attempt by Clark photographing:
    <br>
    &#160;&#160;&#160;&#160;if the reason the action failed is the other people can't photograph without the camera rule, say &quot;Clark is too suave to be embarrassed. 'Frankly, my dear, I don't have a camera.'&quot;;
    <br>
    &#160;&#160;&#160;&#160;otherwise say &quot;Clark tries, and fails, to take a photograph.&quot;
    </p>
    </blockquote>
    <!--END CODE-->
    <hr>
    <div class="roadsigns">
        <table>
            <tr>
                <td class="roadsigndirection">
                    <a href="WI_12_1.html" class="standardlink"><img alt="arrow-up.png" src="/inform-website/assets/images/doc_images/arrow-up.png"></a>
                </td>
                <td>
                    <a href="WI_12_1.html" class="standardlink">Start of Chapter 12: Advanced Actions</a>
                </td>
            </tr>
            <tr>
                <td class="roadsigndirection">
                    <a href="WI_12_11.html" class="standardlink"><img alt="arrow-left.png" src="/inform-website/assets/images/doc_images/arrow-left.png"></a>
                </td>
                <td>
                    <a href="WI_12_11.html" class="standardlink">Back to ยง12.11. Making actions work for other people</a>
                </td>
            </tr>
            <tr>
                <td class="roadsigndirection">
                    <a href="WI_12_13.html" class="standardlink"><img alt="arrow-right.png" src="/inform-website/assets/images/doc_images/arrow-right.png"></a>
                </td>
                <td>
                    <a href="WI_12_13.html" class="standardlink">Onward to ยง12.13. Report rules for actions by other people</a>
                </td>
            </tr>
        </table>
        <hr>
    </div>
    <div class="bookexamples">
        <p class="chapterheading"></p>
        <!--START EXAMPLE "206: Get Axe" "e372"-->
        <a id="e372"></a><table class="egcue">
            <tr>
                <td class="egcellforoval">
                    <div class="egovalfornumber overstruckimage">
                        <a href="#" class="eglink" onclick="showExample('example372'); return false;"><b>206</b></a></div>

                </td>
                <td class="egnamecell">
                    <p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example372'); return false;"><img class="asterisk" alt="*" src="/inform-website/assets/images/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Get Axe</span></b></a><br>
                    Changing the check rules to try automatically leaving a container before attempting to take it. (And arranging things so that other people will do likewise.)</p>

                </td>
                <td class="egcrossref">
                    <!--START IGNORE-->
                    <div class="egovalforxref overstruckimage">
                        <a href="RB_6_10.html#e372"><i>RB</i></a></div>
                    <!--END IGNORE-->

                </td>
            </tr>
        </table>

        <div class="egpanel" id="example372" style="display: none;">
            <p>We could now re-write the check rules so that any time someone (the player or someone else) tries to pick up a container which he is in, he will first get out:</p>
            <!--START CODE "c3489_372"-->
            <blockquote class="code"><p class="quoted"><a id="c3489_372"></a><a href="javascript:pasteCode('[=0x0022=]GET AXE[=0x0022=][=0x000A=][=0x000A=]This is the clever can[=0x0027=]t take what you[=0x0027=]re inside rule:[=0x000A=][=0x0009=]if the person asked is in the noun, try the person asked exiting;[=0x000A=][=0x0009=]if the person asked is in the noun, rule fails.[=0x000A=][=0x000A=]The clever can[=0x0027=]t take what you[=0x0027=]re inside rule is listed instead of the can[=0x0027=]t take what you[=0x0027=]re inside rule in the check taking rules.[=0x000A=][=0x000A=]Attic is a room. The unused coffin is in the Attic. The coffin is enterable and openable and open. Raskolnikov is a man in the coffin.[=0x000A=][=0x000A=]Persuasion rule for asking Raskolnikov to try doing something:[=0x000A=][=0x0009=]persuasion succeeds.[=0x000A=][=0x000A=]Test me with [=0x0022=]raskolnikov, get coffin[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="/inform-website/assets/images/doc_images/paste.png"></a> &quot;GET AXE&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c3490_372"-->
            <blockquote class="code"><p class="quoted"><a id="c3490_372"></a>This is the clever can't take what you're inside rule:
            <br>
            &#160;&#160;&#160;&#160;if the person asked is in the noun, try the person asked exiting;
            <br>
            &#160;&#160;&#160;&#160;if the person asked is in the noun, rule fails.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c3491_372"-->
            <blockquote class="code"><p class="quoted"><a id="c3491_372"></a>The clever can't take what you're inside rule is listed instead of the can't take what you're inside rule in the check taking rules.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c3492_372"-->
            <blockquote class="code"><p class="quoted"><a id="c3492_372"></a>Attic is a room. The unused coffin is in the Attic. The coffin is enterable and openable and open. Raskolnikov is a man in the coffin.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c3493_372"-->
            <blockquote class="code"><p class="quoted"><a id="c3493_372"></a>Persuasion rule for asking Raskolnikov to try doing something:
            <br>
            &#160;&#160;&#160;&#160;persuasion succeeds.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c3494_372"-->
            <blockquote class="code"><p class="quoted"><a id="c3494_372"></a>Test me with &quot;raskolnikov, get coffin&quot;.
            </p>
            </blockquote>
            <!--END CODE-->
        </div>
        <p></p>
        <!--END EXAMPLE-->
        <!--START EXAMPLE "207: Barter Barter" "e22"-->
        <a id="e22"></a><table class="egcue">
            <tr>
                <td class="egcellforoval">
                    <div class="egovalfornumber overstruckimage">
                        <a href="#" class="eglink" onclick="showExample('example22'); return false;"><b>207</b></a></div>

                </td>
                <td class="egnamecell">
                    <p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example22'); return false;"><img class="asterisk" alt="*" src="/inform-website/assets/images/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="/inform-website/assets/images/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="/inform-website/assets/images/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Barter Barter</span></b></a><br>
                    Allowing characters other than the player to give objects to one another, accounting for the possibility that some items may not be desired by the intended recipients.</p>

                </td>
                <td class="egcrossref">
                    <!--START IGNORE-->
                    <div class="egovalforxref overstruckimage">
                        <a href="RB_7_4.html#e22"><i>RB</i></a></div>
                    <!--END IGNORE-->

                </td>
            </tr>
        </table>

        <div class="egpanel" id="example22" style="display: none;">
            <p>By default, if we make no modifications, telling one player to give something to another will fail, even if persuasion succeeds. This is because the default behavior of the GIVE command is interrupted by the &quot;block giving rule&quot; -- since in many cases we do not want people to exchange objects freely.</p>
            <p>However, suppose that we do want characters to be able to exchange articles freely: we allow persuasion to succeed and turn off the &quot;block giving rule&quot;.</p>
            <!--START CODE "c3495_22"-->
            <blockquote class="code"><p class="quoted"><a id="c3495_22"></a><a href="javascript:pasteCode('[=0x0022=]Barter Barter[=0x0022=][=0x000A=][=0x000A=]The block giving rule is not listed in the check giving it to rules.[=0x000A=][=0x000A=]A persuasion rule for asking people to try giving: persuasion succeeds.[=0x000A=][=0x000A=]The Trading Post is a room.[=0x000A=][=0x000A=]Meriwether Lewis is a man in the Trading Post. He carries a fluffy handmade quilt and a bag of beans. The beans are edible.[=0x000A=][=0x000A=]William Clark is a man in the Trading Post. He carries leather slippers, a journal, and a loaf of bread. The bread is edible. The slippers are wearable.[=0x000A=][=0x000A=]Instead of examining someone:[=0x000A=][=0x0009=]say [=0x0022=][The noun] is carrying [the list of things carried by the noun].[=0x0022=][=0x000A=][=0x000A=][And now we might want to implement a way to keep track of whether the recipient character wants what[=0x0027=]s being offered:][=0x000A=][=0x000A=]Check someone trying giving something to someone (this is the sneering refusal rule):[=0x000A=][=0x0009=]if the second noun dislikes the noun, stop the action.[=0x000A=][=0x000A=]Unsuccessful attempt by someone trying doing something:[=0x000A=][=0x0009=]if the reason the action failed is the sneering refusal rule, say [=0x0022=][=0x0027=]Would you care for [the noun]?[=0x0027=] [the person asked] asks solicitously of [the second noun].[=0x000A=][=0x000A=]But [the second noun] refuses [the noun] disdainfully.[=0x0022=];[=0x000A=][=0x0009=]otherwise say [=0x0022=][The person asked] just appears bewildered by this improbable instruction.[=0x0022=][=0x000A=][=0x000A=]Distaste relates one person to various things. The verb to dislike means the distaste relation.[=0x000A=][=0x000A=]Clark dislikes the beans. Lewis dislikes the bread.[=0x000A=][=0x000A=][Since we[=0x0027=]ve defined this as a relation, we could change what the characters like and dislike during the course of the game, freely; for instance, characters might grow hungry and suddenly like all the edible articles.][=0x000A=][=0x000A=]Test me with [=0x0022=]x lewis / x clark / clark, give the slippers to lewis / clark, give the bread to lewis[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="/inform-website/assets/images/doc_images/paste.png"></a> &quot;Barter Barter&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c3496_22"-->
            <blockquote class="code"><p class="quoted"><a id="c3496_22"></a>The block giving rule is not listed in the check giving it to rules.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c3497_22"-->
            <blockquote class="code"><p class="quoted"><a id="c3497_22"></a>A persuasion rule for asking people to try giving: persuasion succeeds.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c3498_22"-->
            <blockquote class="code"><p class="quoted"><a id="c3498_22"></a>The Trading Post is a room.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c3499_22"-->
            <blockquote class="code"><p class="quoted"><a id="c3499_22"></a>Meriwether Lewis is a man in the Trading Post. He carries a fluffy handmade quilt and a bag of beans. The beans are edible.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c3500_22"-->
            <blockquote class="code"><p class="quoted"><a id="c3500_22"></a>William Clark is a man in the Trading Post. He carries leather slippers, a journal, and a loaf of bread. The bread is edible. The slippers are wearable.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c3501_22"-->
            <blockquote class="code"><p class="quoted"><a id="c3501_22"></a>Instead of examining someone:
            <br>
            &#160;&#160;&#160;&#160;say &quot;[The noun] is carrying [the list of things carried by the noun].&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <p>And now we might want to implement a way to keep track of whether the recipient character wants what's being offered:</p>
            <!--START CODE "c3502_22"-->
            <blockquote class="code"><p class="quoted"><a id="c3502_22"></a>Check someone trying giving something to someone (this is the sneering refusal rule):
            <br>
            &#160;&#160;&#160;&#160;if the second noun dislikes the noun, stop the action.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c3503_22"-->
            <blockquote class="code"><p class="quoted"><a id="c3503_22"></a>Unsuccessful attempt by someone trying doing something:
            <br>
            &#160;&#160;&#160;&#160;if the reason the action failed is the sneering refusal rule, say &quot;'Would you care for [the noun]?' [the person asked] asks solicitously of [the second noun].
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c3504_22"-->
            <blockquote class="code"><p class="quoted"><a id="c3504_22"></a>But [the second noun] refuses [the noun] disdainfully.&quot;;
            <br>
            &#160;&#160;&#160;&#160;otherwise say &quot;[The person asked] just appears bewildered by this improbable instruction.&quot;
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c3505_22"-->
            <blockquote class="code"><p class="quoted"><a id="c3505_22"></a>Distaste relates one person to various things. The verb to dislike means the distaste relation.
            </p>
            </blockquote>
            <!--END CODE-->
            <!--START CODE "c3506_22"-->
            <blockquote class="code"><p class="quoted"><a id="c3506_22"></a>Clark dislikes the beans. Lewis dislikes the bread.
            </p>
            </blockquote>
            <!--END CODE-->
            <p>Since we've defined this as a relation, we could change what the characters like and dislike during the course of the game, freely; for instance, characters might grow hungry and suddenly like all the edible articles.</p>
            <!--START CODE "c3507_22"-->
            <blockquote class="code"><p class="quoted"><a id="c3507_22"></a>Test me with &quot;x lewis / x clark / clark, give the slippers to lewis / clark, give the bread to lewis&quot;.
            </p>
            </blockquote>
            <!--END CODE-->
        </div>
        <p></p>
        <!--END EXAMPLE-->
        <hr>
    </div>
    <!--START IGNORE-->
    <!--END IGNORE-->
</body>
</html>
